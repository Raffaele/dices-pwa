const ve=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}};ve();function k(){}function be(t,e){for(const n in e)t[n]=e[n];return t}function de(t){return t()}function Z(){return Object.create(null)}function N(t){t.forEach(de)}function ye(t){return typeof t=="function"}function S(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let q;function x(t,e){return q||(q=document.createElement("a")),q.href=e,t===q.href}function $e(t){return Object.keys(t).length===0}function Ee(t,e,n,l){if(t){const r=_e(t,e,n,l);return t[0](r)}}function _e(t,e,n,l){return t[1]&&l?be(n.ctx.slice(),t[1](l(e))):n.ctx}function ke(t,e,n,l){if(t[2]&&l){const r=t[2](l(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(e.dirty.length,r.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|r[a];return i}return e.dirty|r}return e.dirty}function we(t,e,n,l,r,i){if(r){const o=_e(e,n,l,i);t.p(o,r)}}function Me(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function p(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode.removeChild(t)}function me(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function T(t){return document.createTextNode(t)}function C(){return T(" ")}function L(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ae(t){return Array.from(t.childNodes)}function ee(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function te(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e){l.selected=!0;return}}t.selectedIndex=-1}function Ce(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function ne(t,e,n){t.classList[n?"add":"remove"](e)}function De(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,l,e),r}let j;function F(t){j=t}function he(){if(!j)throw new Error("Function called outside component initialization");return j}function Ie(t){he().$$.on_destroy.push(t)}function Y(){const t=he();return(e,n,{cancelable:l=!1}={})=>{const r=t.$$.callbacks[e];if(r){const i=De(e,n,{cancelable:l});return r.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function Re(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const P=[],J=[],W=[],le=[],Ne=Promise.resolve();let Q=!1;function Se(){Q||(Q=!0,Ne.then(ge))}function K(t){W.push(t)}const G=new Set;let z=0;function ge(){const t=j;do{for(;z<P.length;){const e=P[z];z++,F(e),Ve(e.$$)}for(F(null),P.length=0,z=0;J.length;)J.pop()();for(let e=0;e<W.length;e+=1){const n=W[e];G.has(n)||(G.add(n),n())}W.length=0}while(P.length);for(;le.length;)le.pop()();Q=!1,G.clear(),F(t)}function Ve(t){if(t.fragment!==null){t.update(),N(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(K)}}const H=new Set;let D;function re(){D={r:0,c:[],p:D}}function ie(){D.r||N(D.c),D=D.p}function $(t,e){t&&t.i&&(H.delete(t),t.i(e))}function M(t,e,n,l){if(t&&t.o){if(H.has(t))return;H.add(t),D.c.push(()=>{H.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function O(t){t&&t.c()}function I(t,e,n,l){const{fragment:r,on_mount:i,on_destroy:o,after_update:a}=t.$$;r&&r.m(e,n),l||K(()=>{const c=i.map(de).filter(ye);o?o.push(...c):N(c),t.$$.on_mount=[]}),a.forEach(K)}function R(t,e){const n=t.$$;n.fragment!==null&&(N(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Be(t,e){t.$$.dirty[0]===-1&&(P.push(t),Se(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(t,e,n,l,r,i,o,a=[-1]){const c=j;F(t);const s=t.$$={fragment:null,ctx:null,props:i,update:k,not_equal:r,bound:Z(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Z(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(s.root);let d=!1;if(s.ctx=n?n(t,e.props||{},(f,y,...g)=>{const h=g.length?g[0]:y;return s.ctx&&r(s.ctx[f],s.ctx[f]=h)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](h),d&&Be(t,f)),y}):[],s.update(),d=!0,N(s.before_update),s.fragment=l?l(s.ctx):!1,e.target){if(e.hydrate){const f=Ae(e.target);s.fragment&&s.fragment.l(f),f.forEach(E)}else s.fragment&&s.fragment.c();e.intro&&$(t.$$.fragment),I(t,e.target,e.anchor,e.customElement),ge()}F(c)}class B{$destroy(){R(this,1),this.$destroy=k}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!$e(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Le(t){let e;const n=t[1].default,l=Ee(n,t,t[0],null);return{c(){l&&l.c()},m(r,i){l&&l.m(r,i),e=!0},p(r,[i]){l&&l.p&&(!e||i&1)&&we(l,n,r,r[0],e?ke(n,r[0],i,null):Me(r[0]),null)},i(r){e||($(l,r),e=!0)},o(r){M(l,r),e=!1},d(r){l&&l.d(r)}}}function Oe(t,e,n){let{$$slots:l={},$$scope:r}=e;return t.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,l]}class Pe extends B{constructor(e){super(),V(this,e,Oe,Le,S,{})}}function Fe(t){let e;return{c(){e=b("h1"),e.textContent="DICES PWA",v(e,"class","svelte-hwear2")},m(n,l){w(n,e,l)},p:k,i:k,o:k,d(n){n&&E(e)}}}class je extends B{constructor(e){super(),V(this,e,null,Fe,S,{})}}var qe="/assets/edit-btn.34a84f98.svg",ze="/assets/launch-btn.12fb09f0.svg";function U(t,e=-1){const n=t.filter(i=>i!==e),l=Math.trunc(Math.random()*n.length);return n[l]}function se(t,e,n){const l=t.slice();return l[5]=e[n],l}function oe(t){let e,n=t[5]+"",l;return{c(){e=b("option"),l=T(n),e.__value=t[5],e.value=e.__value},m(r,i){w(r,e,i),p(e,l)},p:k,d(r){r&&E(e)}}}function We(t){let e,n,l,r,i,o,a,c,s,d,f,y=t[1],g=[];for(let h=0;h<y.length;h+=1)g[h]=oe(se(t,y,h));return{c(){e=b("fieldset"),n=b("legend"),n.textContent="New dice",l=C(),r=b("div"),i=b("div"),i.textContent="MAX",o=C(),a=b("select");for(let h=0;h<g.length;h+=1)g[h].c();c=C(),s=b("div"),s.textContent="+",v(n,"class","svelte-1hsxz0d"),t[0]===void 0&&K(()=>t[3].call(a)),v(s,"role","button"),v(s,"class","cmd-btn add-btn"),v(e,"class","svelte-1hsxz0d")},m(h,u){w(h,e,u),p(e,n),p(e,l),p(e,r),p(r,i),p(r,o),p(r,a);for(let m=0;m<g.length;m+=1)g[m].m(a,null);te(a,t[0]),p(e,c),p(e,s),d||(f=[L(a,"change",t[3]),L(s,"click",t[2])],d=!0)},p(h,[u]){if(u&2){y=h[1];let m;for(m=0;m<y.length;m+=1){const _=se(h,y,m);g[m]?g[m].p(_,u):(g[m]=oe(_),g[m].c(),g[m].m(a,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=y.length}u&3&&te(a,h[0])},i:k,o:k,d(h){h&&E(e),me(g,h),d=!1,N(f)}}}function He(t,e,n){const l=Y(),r=Array.from({length:69}).map((c,s)=>s+2);let i=6;function o(){l("createVaule",i)}function a(){i=Ce(this),n(0,i),n(1,r)}return[i,r,o,a]}class Te extends B{constructor(e){super(),V(this,e,He,We,S,{})}}function ce(t){let e,n,l;return{c(){e=b("div"),e.textContent="+",v(e,"class","cmd-btn delete-btn svelte-1l9t4i4")},m(r,i){w(r,e,i),n||(l=L(e,"click",t[5]),n=!0)},p:k,d(r){r&&E(e),n=!1,l()}}}function Ke(t){let e,n,l,r,i,o,a,c=t[1]&&t[2]&&ce(t);return{c(){e=b("div"),c&&c.c(),n=C(),l=b("strong"),r=T(t[0]),i=C(),o=b("div"),a=T(t[4]),v(l,"class","dice-max svelte-1l9t4i4"),v(o,"class","dice-value svelte-1l9t4i4"),ne(o,"running",t[3]),v(e,"class","single-dice svelte-1l9t4i4")},m(s,d){w(s,e,d),c&&c.m(e,null),p(e,n),p(e,l),p(l,r),p(e,i),p(e,o),p(o,a)},p(s,[d]){s[1]&&s[2]?c?c.p(s,d):(c=ce(s),c.c(),c.m(e,n)):c&&(c.d(1),c=null),d&1&&ee(r,s[0]),d&16&&ee(a,s[4]),d&8&&ne(o,"running",s[3])},i:k,o:k,d(s){s&&E(e),c&&c.d()}}}function Xe(t,e,n){let l,{max:r}=e,{attempt:i}=e,{isEditMode:o}=e,{isDeleteBtnAvailable:a}=e,c,s=null,d=!1;const f=Y();function y(){s&&clearInterval(s),n(3,d=!0);const u=g(i,l,c);let m=0;s=setInterval(()=>{n(4,c=u[m++]),m===u.length&&(clearInterval(s),s=null,n(3,d=!1))},80)}Ie(()=>{s!==null&&clearInterval(s)});function g(u,m,_=-1){let A=_;return Array.from({length:u}).reduce(X=>(A=U(m,A),[...X,A]),[])}function h(){f("delete")}return t.$$set=u=>{"max"in u&&n(0,r=u.max),"attempt"in u&&n(6,i=u.attempt),"isEditMode"in u&&n(1,o=u.isEditMode),"isDeleteBtnAvailable"in u&&n(2,a=u.isDeleteBtnAvailable)},t.$$.update=()=>{t.$$.dirty&1&&n(8,l=Array.from({length:r}).map((u,m)=>m+1)),t.$$.dirty&256&&n(4,c=U(l)),t.$$.dirty&8&&f("isRuningChange",d)},[r,o,a,d,c,h,i,y,l]}class Ge extends B{constructor(e){super(),V(this,e,Xe,Ke,S,{max:0,attempt:6,isEditMode:1,isDeleteBtnAvailable:2,run:7})}get run(){return this.$$.ctx[7]}}function ue(t,e,n){const l=t.slice();return l[14]=e[n],l[15]=e,l[16]=n,l}function fe(t){let e,n=t[16],l;const r=()=>t[10](e,n),i=()=>t[10](null,n);function o(...s){return t[11](t[14],t[15],t[16],...s)}function a(){return t[12](t[16])}let c={attempt:t[5],max:t[14].maxValue,isEditMode:t[1],isDeleteBtnAvailable:t[0].length>1};return e=new Ge({props:c}),r(),e.$on("isRuningChange",o),e.$on("delete",a),{c(){O(e.$$.fragment)},m(s,d){I(e,s,d),l=!0},p(s,d){t=s,n!==t[16]&&(i(),n=t[16],r());const f={};d&32&&(f.attempt=t[5]),d&8&&(f.max=t[14].maxValue),d&2&&(f.isEditMode=t[1]),d&1&&(f.isDeleteBtnAvailable=t[0].length>1),e.$set(f)},i(s){l||($(e.$$.fragment,s),l=!0)},o(s){M(e.$$.fragment,s),l=!1},d(s){i(),R(e,s)}}}function ae(t){let e,n;return e=new Te({}),e.$on("createVaule",t[13]),{c(){O(e.$$.fragment)},m(l,r){I(e,l,r),n=!0},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Je(t){let e,n,l,r,i,o,a,c,s;return{c(){e=b("button"),n=b("img"),r=C(),i=b("button"),o=b("img"),x(n.src,l=qe)||v(n,"src",l),v(n,"alt","edit"),v(n,"class","svelte-6mlh97"),v(e,"class","cmd-btn svelte-6mlh97"),x(o.src,a=ze)||v(o,"src",a),v(o,"alt","Run"),v(o,"class","svelte-6mlh97"),i.disabled=t[2],v(i,"class","cmd-btn cmd-rerun svelte-6mlh97")},m(d,f){w(d,e,f),p(e,n),w(d,r,f),w(d,i,f),p(i,o),c||(s=[L(e,"click",t[8]),L(i,"click",t[7])],c=!0)},p(d,f){f&4&&(i.disabled=d[2])},d(d){d&&E(e),d&&E(r),d&&E(i),c=!1,N(s)}}}function Qe(t){let e,n,l;return{c(){e=b("button"),e.textContent="SAVE",v(e,"class","cmd-btn cmd-save svelte-6mlh97")},m(r,i){w(r,e,i),n||(l=L(e,"click",t[9]),n=!0)},p:k,d(r){r&&E(e),n=!1,l()}}}function Ue(t){let e,n,l,r,i,o,a,c=t[3],s=[];for(let u=0;u<c.length;u+=1)s[u]=fe(ue(t,c,u));const d=u=>M(s[u],1,1,()=>{s[u]=null});let f=t[1]&&ae(t);function y(u,m){return u[1]?Qe:Je}let g=y(t),h=g(t);return{c(){e=b("div"),n=b("div"),l=b("div");for(let u=0;u<s.length;u+=1)s[u].c();r=C(),f&&f.c(),i=C(),o=b("section"),h.c(),v(l,"class","field-dices svelte-6mlh97"),v(o,"class","cmd-section svelte-6mlh97"),v(e,"class","field svelte-6mlh97")},m(u,m){w(u,e,m),p(e,n),p(n,l);for(let _=0;_<s.length;_+=1)s[_].m(l,null);p(n,r),f&&f.m(n,null),p(e,i),p(e,o),h.m(o,null),a=!0},p(u,[m]){if(m&123){c=u[3];let _;for(_=0;_<c.length;_+=1){const A=ue(u,c,_);s[_]?(s[_].p(A,m),$(s[_],1)):(s[_]=fe(A),s[_].c(),$(s[_],1),s[_].m(l,null))}for(re(),_=c.length;_<s.length;_+=1)d(_);ie()}u[1]?f?m&2&&$(f,1):(f=ae(u),f.c(),$(f,1),f.m(n,null)):f&&(re(),M(f,1,1,()=>{f=null}),ie()),g===(g=y(u))&&h?h.p(u,m):(h.d(1),h=g(u),h&&(h.c(),h.m(o,null)))},i(u){if(!a){for(let m=0;m<c.length;m+=1)$(s[m]);$(f),a=!0}},o(u){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)M(s[m]);M(f),a=!1},d(u){u&&E(e),me(s,u),f&&f.d(),h.d()}}}function Ye(t,e,n){let l,r,{dices:i}=e,{isEditMode:o}=e,a=[];const c=Y();let s=20;function d(){a.forEach(_=>_==null?void 0:_.run())}function f(){c("edit")}function y(){c("save")}function g(_,A){J[_?"unshift":"push"](()=>{a[A]=_,n(4,a)})}const h=(_,A,X,{detail:pe})=>n(3,A[X].isRunning=pe,l),u=_=>c("deleteDice",_);function m(_){Re.call(this,t,_)}return t.$$set=_=>{"dices"in _&&n(0,i=_.dices),"isEditMode"in _&&n(1,o=_.isEditMode)},t.$$.update=()=>{t.$$.dirty&1&&n(3,l=i.map(_=>({maxValue:_,isRunning:!1}))),t.$$.dirty&8&&n(2,r=l.some(({isRunning:_})=>_)),t.$$.dirty&4&&(r||n(5,s=U([18,19,20,21,22,23])))},[i,o,r,l,a,s,c,d,f,y,g,h,u,m]}class Ze extends B{constructor(e){super(),V(this,e,Ye,Ue,S,{dices:0,isEditMode:1})}}function xe(t){let e,n,l;return n=new Ze({props:{dices:t[0],isEditMode:t[1]}}),n.$on("edit",t[2]),n.$on("save",t[3]),n.$on("deleteDice",t[5]),n.$on("createVaule",t[6]),{c(){e=b("main"),O(n.$$.fragment),v(e,"class","svelte-1y6mx4k")},m(r,i){w(r,e,i),I(n,e,null),l=!0},p(r,[i]){const o={};i&1&&(o.dices=r[0]),i&2&&(o.isEditMode=r[1]),n.$set(o)},i(r){l||($(n.$$.fragment,r),l=!0)},o(r){M(n.$$.fragment,r),l=!1},d(r){r&&E(e),R(n)}}}function et(t,e,n){let l=[6],r=!1;function i(){n(1,r=!0)}function o(){n(1,r=!1)}function a(d){n(0,l=l.filter((f,y)=>y!==d))}return[l,r,i,o,a,({detail:d})=>a(d),d=>n(0,l=[...l,d.detail])]}class tt extends B{constructor(e){super(),V(this,e,et,xe,S,{})}}function nt(t){let e,n,l,r;return e=new je({}),l=new tt({}),{c(){O(e.$$.fragment),n=C(),O(l.$$.fragment)},m(i,o){I(e,i,o),w(i,n,o),I(l,i,o),r=!0},i(i){r||($(e.$$.fragment,i),$(l.$$.fragment,i),r=!0)},o(i){M(e.$$.fragment,i),M(l.$$.fragment,i),r=!1},d(i){R(e,i),i&&E(n),R(l,i)}}}function lt(t){let e,n;return e=new Pe({props:{$$slots:{default:[nt]},$$scope:{ctx:t}}}),{c(){O(e.$$.fragment)},m(l,r){I(e,l,r),n=!0},p(l,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){n||($(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}class rt extends B{constructor(e){super(),V(this,e,null,lt,S,{})}}new rt({target:document.getElementById("app")});
